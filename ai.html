<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voice Order - Food Ordering System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            min-height: 100vh;
            background: #f5f5f5;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .header p {
            color: #7f8c8d;
        }

        .voice-section {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        .voice-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .voice-btn {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: none;
            background: #3498db;
            color: white;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .voice-btn:hover {
            background: #2980b9;
            transform: scale(1.05);
        }

        .voice-btn.listening {
            background: #e74c3c;
            animation: pulse 1.5s infinite;
        }

        .voice-status {
            text-align: center;
            color: #7f8c8d;
            font-size: 18px;
            margin-bottom: 20px;
        }

        .recognized-text {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            min-height: 60px;
        }

        .menu-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .menu-item {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .menu-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 5px;
            margin-bottom: 10px;
        }

        .menu-item h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .menu-item p {
            color: #7f8c8d;
            margin-bottom: 10px;
        }

        .menu-item .price {
            color: #27ae60;
            font-weight: bold;
            font-size: 18px;
        }

        .order-summary {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .order-summary h2 {
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .order-items {
            margin-bottom: 20px;
        }

        .order-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .total {
            display: flex;
            justify-content: space-between;
            font-weight: bold;
            font-size: 18px;
            color: #2c3e50;
        }

        .checkout-btn {
            width: 100%;
            padding: 15px;
            background: #27ae60;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s ease;
            margin-top: 20px;
        }

        .checkout-btn:hover {
            background: #219a52;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
            100% {
                transform: scale(1);
            }
        }

        .voice-commands {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
        }

        .voice-commands h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .voice-commands ul {
            list-style: none;
        }

        .voice-commands li {
            margin-bottom: 5px;
            color: #7f8c8d;
        }

        .voice-commands li::before {
            content: "â€¢";
            color: #3498db;
            margin-right: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Voice Order System</h1>
            <p>Order your food using voice commands</p>
        </div>

        <div class="voice-section">
            <div class="voice-controls">
                <button class="voice-btn" id="voiceBtn">
                    <i class="fas fa-microphone"></i>
                </button>
            </div>
            <div class="voice-status" id="voiceStatus">Click the microphone to start ordering</div>
            <div class="recognized-text" id="recognizedText"></div>
            <div class="voice-commands">
                <h3>Available Voice Commands:</h3>
                <ul>
                    <li>"Order [item name]" - Add item to cart</li>
                    <li>"Remove [item name]" - Remove item from cart</li>
                    <li>"Show menu" - Display all menu items</li>
                    <li>"Checkout" - Proceed to payment</li>
                    <li>"Clear cart" - Remove all items</li>
                </ul>
            </div>
        </div>

        <div class="menu-section" id="menuSection">
            <!-- Menu items will be dynamically added here -->
        </div>

        <div class="order-summary">
            <h2>Your Order</h2>
            <div class="order-items" id="orderItems">
                <!-- Order items will be dynamically added here -->
            </div>
            <div class="total">
                <span>Total:</span>
                <span id="orderTotal">$0.00</span>
            </div>
            <button class="checkout-btn" id="checkoutBtn">Proceed to Checkout</button>
        </div>
    </div>

    <script>
        // Sample menu data
        const menuItems = [
            {
                id: 1,
                name: "Margherita Pizza",
                price: 12.99,
                image: "https://images.unsplash.com/photo-1604382354936-07c5d9983bd3?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"
            },
            {
                id: 2,
                name: "Chicken Burger",
                price: 8.99,
                image: "https://images.unsplash.com/photo-1568901346375-23c9450c58cd?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"
            },
            {
                id: 3,
                name: "Caesar Salad",
                price: 7.99,
                image: "https://images.unsplash.com/photo-1550304943-4f24f54ddde9?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"
            },
            {
                id: 4,
                name: "Pasta Carbonara",
                price: 11.99,
                image: "https://images.unsplash.com/photo-1612874742237-6526221588e3?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"
            }
        ];

        // Initialize variables
        let recognition;
        let isListening = false;
        let cart = [];

        // Initialize speech recognition
        if ('webkitSpeechRecognition' in window) {
            recognition = new webkitSpeechRecognition();
            recognition.continuous = true;
            recognition.interimResults = true;
            recognition.lang = 'en-US';

            recognition.onstart = () => {
                isListening = true;
                document.getElementById('voiceBtn').classList.add('listening');
                document.getElementById('voiceStatus').textContent = 'Listening...';
            };

            recognition.onend = () => {
                isListening = false;
                document.getElementById('voiceBtn').classList.remove('listening');
                document.getElementById('voiceStatus').textContent = 'Click the microphone to start ordering';
            };

            recognition.onresult = (event) => {
                const transcript = Array.from(event.results)
                    .map(result => result[0])
                    .map(result => result.transcript)
                    .join('');

                document.getElementById('recognizedText').textContent = transcript;
                processVoiceCommand(transcript);
            };

            recognition.onerror = (event) => {
                console.error('Speech recognition error:', event.error);
                document.getElementById('voiceStatus').textContent = 'Error: ' + event.error;
            };
        }

        // Voice button click handler
        document.getElementById('voiceBtn').addEventListener('click', () => {
            if (!isListening) {
                recognition.start();
            } else {
                recognition.stop();
            }
        });

        // Process voice commands
        function processVoiceCommand(command) {
            command = command.toLowerCase();

            if (command.includes('order')) {
                const itemName = command.replace('order', '').trim();
                addToCart(itemName);
            } else if (command.includes('remove')) {
                const itemName = command.replace('remove', '').trim();
                removeFromCart(itemName);
            } else if (command.includes('show menu')) {
                displayMenu();
            } else if (command.includes('checkout')) {
                proceedToCheckout();
            } else if (command.includes('clear cart')) {
                clearCart();
            }
        }

        // Add item to cart
        function addToCart(itemName) {
            const menuItem = menuItems.find(item => 
                item.name.toLowerCase().includes(itemName.toLowerCase())
            );

            if (menuItem) {
                cart.push(menuItem);
                updateOrderSummary();
                document.getElementById('voiceStatus').textContent = `Added ${menuItem.name} to cart`;
            } else {
                document.getElementById('voiceStatus').textContent = 'Item not found in menu';
            }
        }

        // Remove item from cart
        function removeFromCart(itemName) {
            const index = cart.findIndex(item => 
                item.name.toLowerCase().includes(itemName.toLowerCase())
            );

            if (index !== -1) {
                const removedItem = cart.splice(index, 1)[0];
                updateOrderSummary();
                document.getElementById('voiceStatus').textContent = `Removed ${removedItem.name} from cart`;
            } else {
                document.getElementById('voiceStatus').textContent = 'Item not found in cart';
            }
        }

        // Display menu
        function displayMenu() {
            const menuSection = document.getElementById('menuSection');
            menuSection.innerHTML = menuItems.map(item => `
                <div class="menu-item">
                    <img src="${item.image}" alt="${item.name}">
                    <h3>${item.name}</h3>
                    <p class="price">$${item.price.toFixed(2)}</p>
                </div>
            `).join('');
        }

        // Update order summary
        function updateOrderSummary() {
            const orderItems = document.getElementById('orderItems');
            const orderTotal = document.getElementById('orderTotal');
            
            // Group items and count quantities
            const itemCounts = cart.reduce((acc, item) => {
                acc[item.id] = (acc[item.id] || 0) + 1;
                return acc;
            }, {});

            // Display items
            orderItems.innerHTML = Object.entries(itemCounts).map(([id, count]) => {
                const item = menuItems.find(item => item.id === parseInt(id));
                return `
                    <div class="order-item">
                        <span>${item.name} x${count}</span>
                        <span>$${(item.price * count).toFixed(2)}</span>
                    </div>
                `;
            }).join('');

            // Update total
            const total = cart.reduce((sum, item) => sum + item.price, 0);
            orderTotal.textContent = `$${total.toFixed(2)}`;
        }

        // Proceed to checkout
        function proceedToCheckout() {
            if (cart.length === 0) {
                document.getElementById('voiceStatus').textContent = 'Your cart is empty';
                return;
            }
            alert('Proceeding to checkout...');
            // Add your checkout logic here
        }

        // Clear cart
        function clearCart() {
            cart = [];
            updateOrderSummary();
            document.getElementById('voiceStatus').textContent = 'Cart cleared';
        }

        // Initialize the page
        displayMenu();
        updateOrderSummary();

        // Checkout button click handler
        document.getElementById('checkoutBtn').addEventListener('click', proceedToCheckout);
    </script>
</body>
</html> 